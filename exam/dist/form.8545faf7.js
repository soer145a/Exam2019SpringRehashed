parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"31Xk":[function(require,module,exports) {
"use strict";window.addEventListener("DOMContentLoaded",l);var e=[],o=document.querySelector("#formLogin"),r=document.querySelector("#formUserBlock"),n=document.querySelector("#formUserInfo"),t=document.querySelector("#nemID");function l(){c(),console.log("init")}function c(){fetch("https://examusers-4b00.restdb.io/rest/databaseuser?key=22631469345172666884",{method:"get",headers:{Accept:"application/json","Content-Type":"application/json","x-apikey":"5cdbfbb9f66d7b1062cb34b7"}}).then(function(e){return e.json()}).then(function(o){e=o,console.log(e),document.querySelector("#formUserButton").addEventListener("click",u),document.querySelector("#formLoginButton").addEventListener("click",function(){s()})})}function s(){console.log("CHECK LOGIN");var o=document.querySelector("#formUsername").value,r=document.querySelector("#formPassword").value;console.log(o),e.forEach(function(e){o==e.username&&e.password==r&&window.location.replace("spil.html")})}function u(){o.style.display="none",r.style.display="block";var e={username:"-placeholder-",password:"-placeholder-",email:"-placeholder-",telefoneNr:"-placeholder-",fornavn:"-placeholder-",efternavn:"-placeholder-",adresse:"-placeholder-",userID:"-placeholder-",city:"-placeholder-",CPRnr:"-placeholder-"};document.querySelector("#formUserBlockFormButton").addEventListener("click",function(){console.log("CLIKED BUTTON"),a(e)})}function a(o){console.log("SAVE FIRST SET OF DATA");var r=document.querySelector("#userName"),n=document.querySelector("#userPassword"),t=document.querySelector("#userPasswordConfirm"),l=document.querySelector("#userEmail"),c=0;e.forEach(function(e){console.log(e.username,r.value),e.username==r.value?r.style.backgroundColor="red":(console.log(r.checkValidity()),1!=r.checkValidity()||(o.username=r.value,document.querySelector("#userPassword").value==document.querySelector("#userPasswordConfirm").value?(o.password=document.querySelector("#userPassword").value,e.email==o.email?l.style.backgroundColor="red":1!=l.checkValidity()?(console.log(l.checkValidity()),l.style.backgroundColor="red"):(o.email=l.value,o.telefoneNr==e.telefoneNr||(o.telefoneNr=document.querySelector("#userTlf").value,c++,o.userID=Math.random().toString(36).substr(2,9)))):(n.style.backgroundColor="red",t.style.backgroundColor="red")))}),c==e.length&&(console.log("CORRECT"),d(o))}function d(e){console.log(e),r.style.display="none",n.style.display="block",document.querySelector("#formUserInfoButton").addEventListener("click",function(){i(e)})}function i(o){o.fornavn=document.querySelector("#userFirstName").value,o.efternavn=document.querySelector("#userLastName").value,o.adresse=document.querySelector("#userAdress").value,o.city=document.querySelector("#userCity").value;var r=0;e.forEach(function(e){e.CPRnr==o.CPRnr||(o.CPRnr=document.querySelector("#userCpr").value,r++)}),r==e.length&&(console.log("CORRECT"),m(o))}function m(e){console.log("SEND"),t.style.display="block",n.style.display="none";var o=JSON.stringify(e);console.log(o),fetch("https://examusers-4b00.restdb.io/rest/databaseuser?",{method:"post",headers:{"Content-Type":"application/json; charset=utf-8","x-apikey":"5cdbfbb9f66d7b1062cb34b7","cache-control":"no-cache"},body:o}),c()}
},{}]},{},["31Xk"], null)
//# sourceMappingURL=/form.8545faf7.js.map